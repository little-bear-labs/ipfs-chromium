<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ipfs-chromium: IPFS-Chromium updates: New Release, IPFS-Electron, Standardization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ipfs-chromium
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">IPFS-Chromium updates: New Release, IPFS-Electron, Standardization </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>It's well past time to talk about things that have happened since the <a href="https://blog.ipfs.tech/2023-05-multigateway-chromium-client/">last time</a> you heard about this project.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
IPFS-Chromium Version 0.0.1.2 Released</h1>
<p>Recently we cut a new release of <a href="https://github.com/little-bear-labs/ipfs-chromium/">IPFS-Chromium</a>, which has some more steps along the way to being a practical approach to native multi-<a href="https://specs.ipfs.tech/http-gateways/trustless-gateway/">trustless-gateway</a> support for <code>ipfs://</code> and <code>ipns://</code> URLs.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Enhancements</h2>
<h3><a class="anchor" id="autotoc_md7"></a>
Feature-control switches</h3>
<p>For those who might consider dipping a toe rather than diving head-first.</p>
<ul>
<li>Chromium build flag ( <code>ENABLE_IPFS</code> ) so a codebase containing these changes can still be built without IPFS support, to ease adoption.</li>
<li>A feature flag, ("Enable IPFS") so Chromium built with this (and the build flag on) can still have IPFS turned off with about://flags if the user wishes.</li>
</ul>
<h3><a class="anchor" id="autotoc_md8"></a>
IPFS Features</h3>
<p>There are features from some corners of the IPFS ecosystem not everyone needs, naturally they did not get prioritized at first. Now we've implemented some more features, making things more complete.</p>
<ul>
<li>Handling <a href="https://github.com/ipfs/specs/blob/6c70fc240fb14f3022177af55f1dcbe1ab8f35c6/UNIXFS.md#deduplication-and-inlining">inline CIDs</a> locally.</li>
<li><a href="https://ipld.io/docs/codecs/known/dag-json/">DAG-JSON</a></li>
<li><a href="https://ipld.io/docs/codecs/known/dag-cbor/">DAG-CBOR</a></li>
<li>Support for <a href="https://github.com/multiformats/multibase?tab=readme-ov-file#multibase-table">base-16</a> URLs and a fix for dealing with unsupported bases (no longer crashes the process).</li>
<li>Handling of content root <a href="https://specs.ipfs.tech/http-gateways/web-redirects-file/">_redirects</a></li>
<li>Handling <a href="https://github.com/ipfs/specs/blob/9131a7cfb56bf2ef4fb916feec53836c75ba1a05/src/unixfs-data-format.md#symlink-type">UnixFS symbolic links</a></li>
<li>Preview page for a sharded directory that contains no index.html. It's ugly, but usable. Screenshots of the top and bottom of such a page, before "Load more" is clicked:</li>
</ul>
<p><img src="https://hackmd.io/_uploads/BkJDxB31yg.png" alt="wiki_top" class="inline"/></p>
<p><img src="https://hackmd.io/_uploads/Sk6Pxrn1yl.png" alt="wiki_end" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md9"></a>
Gateway interaction improvements</h3>
<ul>
<li>Using <a href="https://specs.ipfs.tech/routing/http-routing-v1/#get-routing-v1-providers-cid">delegated routing</a> gateway API to discover additional gateways</li>
<li>Partial (<a href="https://specs.ipfs.tech/http-gateways/trustless-gateway/#dag-scope-request-query-parameter">dag-scope=entity</a>) CAR requests, for fetching multiple blocks in one round trip.</li>
<li>Support for the environment variable <a href="https://curl.se/docs/ipfs.html">IPFS_GATEWAY</a>, though this project supports a superset: it's a whitespace-delimited list of gateways instead of just 1.</li>
<li>Gateway rate (soft) limits persisted to user preferences</li>
<li>Option to fallback to gateway for DNSLink-like roots. Helps when there's a DNS problem or if you need a resolver your system doesn't use but the gateway does, like ENS.</li>
</ul>
<h3><a class="anchor" id="autotoc_md10"></a>
Browser features</h3>
<ul>
<li>Some response headers for use in devtools, including some <a href="https://specs.ipfs.tech/http-gateways/path-gateway/#server-timing-response-header">Server-Timing</a> keys.</li>
<li>Cache entries for IPNS records expire based on the date contained in the record</li>
<li>Proper URL canonicalization for IPFS URLs (switching multibase) so that it surives lowercasing.</li>
<li>Some user preferences where performance trades off against privacy concerns.<ul>
<li>Controlling whether the <a href="https://specs.ipfs.tech/routing/http-routing-v1/">Routing V1 API</a> is used to discover additional gateways</li>
<li>If so, are <a href="http://">http://</a> (insecure) gateways included?</li>
<li>Whether DNSLink can fallback to gateway resolution when <code>DNSClient</code> is unavailable or unsuccessful (but requires trusting your gateways to resolve honestly)</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
Dev &amp; maintenance updates</h2>
<p>The basics. They always gotta get done.</p>
<ul>
<li>Explicit licensing for ipfs-client (it's dual MIT/Apache)</li>
<li><a href="https://little-bear-labs.github.io/ipfs-chromium/">Doxygen documentation</a></li>
<li>Various refactors in the ipfs-client library.</li>
<li>Patches for new versions of Chromium.</li>
<li>CI for library artifacts in releases (see ipfs-client* <a href="https://github.com/little-bear-labs/ipfs-chromium/releases/latest">here</a>)</li>
<li>A bug fix in default URL escaping of <a class="el" href="classipfs_1_1Client.html" title="Interface that provides functionality from whatever environment you&#39;re using this library in.">ipfs::Client</a> (not in Chromium)</li>
</ul>
<h1><a class="anchor" id="autotoc_md12"></a>
IPFS-Electron</h1>
<p><img src="https://hackmd.io/_uploads/HJpxkfLlA.png" alt="persianroomguardianinelectron" class="inline"/></p>
<p>While it may be <a href="https://github.com/electron/electron/issues/41539">unlikely</a> to get IPFS support in vanilla Electron by default, there are a number of use cases for slightly modified <a href="https://littlebearlabs.io/perspectives/electron-spins-a-special-case-of-chromium-mods">spins</a> on Electron, and if we get those <a href="https://github.com/electron/electron/issues/42455">extension points</a> IPFS-enabled Electron could be one.</p>
<p>And with that in mind, this repo now builds an IPFS-enabled electron as well, if you're using <a href="https://github.com/little-bear-labs/ipfs-electron">this</a> fork of Electron rather than the upstream where the extension points are not-yet-adopted.</p>
<p>You can find some build artifacts <a href="https://github.com/little-bear-labs/ipfs-chromium/releases/tag/0.0.1.2">in the release</a> if you'd like to give it a try without building it yourself.</p>
<p><em>In particular, one could download the equivalent of</em> <code>dist.zip</code>:</p><ul>
<li><a href="https://github.com/little-bear-labs/ipfs-chromium/releases/download/0.0.1.2/ipfs-electron.linux.zip">ipfs-ipfs-electron.linux.zip</a></li>
<li><a href="https://github.com/little-bear-labs/ipfs-chromium/releases/download/0.0.1.2/ipfs-electron.win.zip">ipfs-ipfs-electron.win.zip</a></li>
<li><a href="https://github.com/little-bear-labs/ipfs-chromium/releases/download/0.0.1.2/ipfs-electron.mac.zip">ipfs-ipfs-electron.mac.zip</a></li>
<li><a href="https://github.com/little-bear-labs/ipfs-chromium/releases/download/0.0.1.2/ipfs-electron.framework.mac.zip">ipfs-electron.framework.mac.zip</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
WICG Discussion</h1>
<p>The very beginning of a discussion about standarizing IPFS functionality in browsers, of which this would be one implementation, is started over <a href="https://github.com/WICG/proposals/issues/143">here</a>.</p>
<p>Naturally the suggestion isn't to adopt everything we've done here exactly as-is, but to look for a reasonable subset of functionality that would give a good level of interoperability. Feel free to read the <a href="https://little-bear-labs.github.io/ipfs-chromium/md_doc_explainer.html">explainer</a> on what we arrived at, and join in the discussion.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Next Steps</h1>
<p>The future is yet to be written. Where in the ecosystem would you like to see native support for multi-gateway IPFS clients? Feel free to comment on the <a href="https://github.com/WICG/proposals/issues/143">WICG ticket</a> for comment on web standardization, the <a href="https://issues.chromium.org/issues/40909350">Chromium ticket</a>, the <a href="https://github.com/electron/electron/issues/42455">Electron ticket</a>, or open an <a href="https://github.com/little-bear-labs/ipfs-chromium/issues">issue on IPFS-Chromium</a> for your own ideas &amp; concerns. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
